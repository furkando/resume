{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/furkan/Developer/resume/src/components/modal.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport Modal1 from \"react-modal\";\nimport { Contexto } from \"../appContext\";\nimport { useState, useContext } from \"react\";\nimport styles from \"../styles/modal.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { timeout } from \"./helpers\";\nimport emailjs from \"emailjs-com\";\nimport { buttonDisabled } from \"../styles/spinningWheel.module.css\";\nimport SpinningWheel from \"../components/spinningWheel\";\nexport default function Modal() {\n  _s();\n\n  const {\n    modalIsOpen,\n    setIsOpen\n  } = useContext(Contexto);\n  const {\n    0: submitMessage,\n    1: setSubmitMessage\n  } = useState(\"\");\n  const {\n    0: allowSend,\n    1: setAllowSend\n  } = useState(true);\n  const {\n    0: form,\n    1: setForm\n  } = useState({\n    userName: \"\",\n    userEmail: \"\",\n    userPhoneNumber: \"\",\n    userMessage: \"\"\n  });\n\n  const handleForm = event => {\n    setForm(_objectSpread(_objectSpread({}, form), {}, {\n      [event.target.id]: typeof event.target.value === \"string\" ? event.target.value : JSON.stringify(event.target.value)\n    }));\n  };\n\n  const closeModal = () => {\n    setIsOpen(false);\n  };\n\n  const submitForm = async e => {\n    e.preventDefault();\n    const emailjsObj = {\n      serviceId: \"gmail\",\n      templateId: \"template_aRfTvlUy\",\n      userId: process.env.NEXT_PUBLIC_USER_ID\n    };\n\n    try {\n      if (allowSend) {\n        setAllowSend(() => false);\n        const result = await emailjs.send(emailjsObj.serviceId, emailjsObj.templateId, form, emailjsObj.userId);\n\n        if (result.status == 200) {\n          setSubmitMessage(() => \"Arigato!\");\n        } else {\n          setSubmitMessage(() => \"Something unexpected happened!\");\n        }\n\n        console.log(\"result:\", result);\n        await timeout(2);\n        closeModal();\n        setSubmitMessage(() => \"\");\n        await timeout(0.5);\n        setAllowSend(() => true);\n      }\n    } catch (err) {\n      console.error(err);\n\n      if (allowSend) {\n        setAllowSend(() => false);\n        console.error(err);\n        setSubmitMessage(() => \"Something unexpected happened!\");\n        await timeout(2);\n        closeModal();\n        setSubmitMessage(() => \"\");\n        await timeout(0.5);\n        setAllowSend(() => true);\n      }\n    }\n  };\n\n  return __jsx(Modal1, {\n    isOpen: modalIsOpen,\n    onRequestClose: closeModal,\n    contentLabel: \"Email Modal\",\n    closeTimeoutMS: 500,\n    className: {\n      base: `${styles.baseContent}`,\n      afterOpen: `${styles.afterOpenContent}`,\n      beforeClose: `${styles.beforeCloseContent}`\n    },\n    overlayClassName: {\n      base: `${styles.baseOverlay}`,\n      afterOpen: `${styles.afterOpenOverlay}`,\n      beforeClose: `${styles.beforeCloseOverlay}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"Thank you for your time\", \" \", __jsx(\"span\", {\n    \"aria-label\": \"Hi there\",\n    role: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"\\u270C\")), __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"Please fill this form, and I'll be in touch with you\"), __jsx(\"form\", {\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Name:\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    id: \"userName\",\n    name: \"name\",\n    onChange: handleForm,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }))), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"Email:\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    id: \"userEmail\",\n    name: \"email\",\n    onChange: handleForm,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }))), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Phone Number\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    id: \"userPhoneNumber\",\n    name: \"phoneNumber\",\n    onChange: handleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }))), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"Your message:\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, __jsx(\"textarea\", {\n    type: \"text\",\n    id: \"userMessage\",\n    name: \"message\",\n    onChange: handleForm,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, __jsx(\"button\", {\n    disabled: allowSend ? false : true,\n    type: \"submit\",\n    className: allowSend ? `${styles.submitButton}` : `${styles.submitButton} ${buttonDisabled}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, allowSend ? \"SUBMIT\" : __jsx(SpinningWheel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 39\n    }\n  })), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, submitMessage)))), __jsx(\"div\", {\n    onClick: closeModal,\n    className: `${styles.cross}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }, __jsx(FontAwesomeIcon, {\n    color: \"rgba(34, 34, 34, 0.9)\",\n    icon: faTimes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }), \" \"));\n}\n\n_s(Modal, \"8UebeGgOS2QBDXGcXoKVp4GATgQ=\");\n\n_c = Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"sources":["/Users/furkan/Developer/resume/src/components/modal.js"],"names":["Modal1","Contexto","useState","useContext","styles","FontAwesomeIcon","faTimes","timeout","emailjs","buttonDisabled","SpinningWheel","Modal","modalIsOpen","setIsOpen","submitMessage","setSubmitMessage","allowSend","setAllowSend","form","setForm","userName","userEmail","userPhoneNumber","userMessage","handleForm","event","target","id","value","JSON","stringify","closeModal","submitForm","e","preventDefault","emailjsObj","serviceId","templateId","userId","process","env","NEXT_PUBLIC_USER_ID","result","send","status","console","log","err","error","base","baseContent","afterOpen","afterOpenContent","beforeClose","beforeCloseContent","baseOverlay","afterOpenOverlay","beforeCloseOverlay","submitButton","cross"],"mappings":"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","sourcesContent":["import Modal1 from \"react-modal\";\nimport { Contexto } from \"../appContext\";\nimport { useState, useContext } from \"react\";\nimport styles from \"../styles/modal.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { timeout } from \"./helpers\";\nimport emailjs from \"emailjs-com\";\nimport { buttonDisabled } from \"../styles/spinningWheel.module.css\";\nimport SpinningWheel from \"../components/spinningWheel\";\n\nexport default function Modal() {\n  const { modalIsOpen, setIsOpen } = useContext(Contexto);\n  const [submitMessage, setSubmitMessage] = useState(\"\");\n  const [allowSend, setAllowSend] = useState(true);\n  const [form, setForm] = useState({\n    userName: \"\",\n    userEmail: \"\",\n    userPhoneNumber: \"\",\n    userMessage: \"\",\n  });\n  const handleForm = (event) => {\n    setForm({\n      ...form,\n      [event.target.id]:\n        typeof event.target.value === \"string\"\n          ? event.target.value\n          : JSON.stringify(event.target.value),\n    });\n  };\n\n  const closeModal = () => {\n    setIsOpen(false);\n  };\n  const submitForm = async (e) => {\n    e.preventDefault();\n    const emailjsObj = {\n      serviceId: \"gmail\",\n      templateId: \"template_aRfTvlUy\",\n      userId: process.env.NEXT_PUBLIC_USER_ID,\n    };\n    try {\n      if (allowSend) {\n        setAllowSend(() => false);\n        const result = await emailjs.send(\n          emailjsObj.serviceId,\n          emailjsObj.templateId,\n          form,\n          emailjsObj.userId\n        );\n        if (result.status == 200) {\n          setSubmitMessage(() => \"Arigato!\");\n        } else {\n          setSubmitMessage(() => \"Something unexpected happened!\");\n        }\n        console.log(\"result:\", result);\n        await timeout(2);\n        closeModal();\n        setSubmitMessage(() => \"\");\n        await timeout(0.5);\n        setAllowSend(() => true);\n      }\n    } catch (err) {\n      console.error(err);\n      if (allowSend) {\n        setAllowSend(() => false);\n        console.error(err);\n        setSubmitMessage(() => \"Something unexpected happened!\");\n        await timeout(2);\n        closeModal();\n        setSubmitMessage(() => \"\");\n        await timeout(0.5);\n        setAllowSend(() => true);\n      }\n    }\n  };\n  return (\n    <Modal1\n      isOpen={modalIsOpen}\n      onRequestClose={closeModal}\n      contentLabel=\"Email Modal\"\n      closeTimeoutMS={500}\n      className={{\n        base: `${styles.baseContent}`,\n        afterOpen: `${styles.afterOpenContent}`,\n        beforeClose: `${styles.beforeCloseContent}`,\n      }}\n      overlayClassName={{\n        base: `${styles.baseOverlay}`,\n        afterOpen: `${styles.afterOpenOverlay}`,\n        beforeClose: `${styles.beforeCloseOverlay}`,\n      }}\n    >\n      <h1>\n        Thank you for your time{\" \"}\n        <span aria-label=\"Hi there\" role=\"img\">\n          ✌\n        </span>\n      </h1>\n      <h2>Please fill this form, and I'll be in touch with you</h2>\n      <form onSubmit={submitForm}>\n        <ul>\n          <li>\n            <label htmlFor=\"name\">Name:</label>\n          </li>\n          <li>\n            <input\n              type=\"text\"\n              id=\"userName\"\n              name=\"name\"\n              onChange={handleForm}\n              required\n            />\n          </li>\n        </ul>\n        <ul>\n          <li>\n            <label htmlFor=\"email\">Email:</label>\n          </li>\n          <li>\n            <input\n              type=\"text\"\n              id=\"userEmail\"\n              name=\"email\"\n              onChange={handleForm}\n              required\n            />\n          </li>\n        </ul>\n        <ul>\n          <li>\n            <label htmlFor=\"number\">Phone Number</label>\n          </li>\n          <li>\n            <input\n              type=\"text\"\n              id=\"userPhoneNumber\"\n              name=\"phoneNumber\"\n              onChange={handleForm}\n            />\n          </li>\n        </ul>\n        <ul>\n          <li>\n            <label htmlFor=\"message\">Your message:</label>\n          </li>\n          <li>\n            <textarea\n              type=\"text\"\n              id=\"userMessage\"\n              name=\"message\"\n              onChange={handleForm}\n              required\n            />\n          </li>\n        </ul>\n        <div>\n          <div>\n            <button\n              disabled={allowSend ? false : true}\n              type=\"submit\"\n              className={\n                allowSend\n                  ? `${styles.submitButton}`\n                  : `${styles.submitButton} ${buttonDisabled}`\n              }\n            >\n              {allowSend ? \"SUBMIT\" : <SpinningWheel />}\n            </button>\n            <span>{submitMessage}</span>\n          </div>\n        </div>\n      </form>\n      <div onClick={closeModal} className={`${styles.cross}`}>\n        <FontAwesomeIcon color=\"rgba(34, 34, 34, 0.9)\" icon={faTimes} />{\" \"}\n      </div>\n    </Modal1>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}